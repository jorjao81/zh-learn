<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Single Character Learning - Original Default Theme</title>
    <link rel="stylesheet" href="styling.css">
    <script src="https://d3js.org/d3.v7.min.js"></script>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, sans-serif;
            background: #f5f6fa;
            margin: 0;
            padding: 20px;
        }

        .preview-container {
            max-width: 1200px;
            margin: 0 auto;
        }

        .preview-title {
            text-align: center;
            color: #2c3e50;
            margin-bottom: 30px;
        }

        .character-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(500px, 1fr));
            gap: 30px;
            margin-bottom: 40px;
        }

        .character-example {
            background: white;
            border-radius: 12px;
            padding: 20px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
            border: 1px solid #e1e8ed;
        }

        .example-title {
            text-align: center;
            color: #7f8c8d;
            font-size: 0.9em;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 1px;
            margin-bottom: 15px;
            padding: 8px;
            background: #f8f9fa;
            border-radius: 6px;
        }

        @media (max-width: 768px) {
            .character-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="preview-container">
        <h1 class="preview-title">Single Character Learning - Original Default Theme</h1>
        <p style="text-align: center; color: #7f8c8d; margin-bottom: 40px;">
            Examples showing different types of character decomposition in the Original Default theme
        </p>

        <div class="character-grid">
            <!-- Semantic + Phonetic Decomposition -->
            <div class="character-example">
                <div class="example-title">Semantic + Phonetic Decomposition</div>
                <div class="card">
                    <div class="card-container">
                        <div class="chinese-header">
                            <div class="chinese-main">Ê≤≥</div>
                            <div class="chinese-side">
                                <div class="pinyin-main">h√©</div>
                                <div class="audio-section">[üîä]</div>
                            </div>
                        </div>

                        <hr class="divider">

                        <div class="definition-section">
                            <div class="section-title">Definition</div>
                            <div class="definition-content">
                                <span class="part-of-speech">noun</span> river; stream
                            </div>
                        </div>

                        <div class="examples-section">
                            <div class="section-title">Examples</div>
                            <div class="examples-content">
                                <ul>
                                    <li class="example">
                                        <span class="hanzi">ÈªÑÊ≤≥</span> (<span class="pinyin">Hu√°ng H√©</span>) - <span class="translation">Yellow River</span>
                                    </li>
                                    <li class="example">
                                        <span class="hanzi">Ê≤≥ÊµÅ</span> (<span class="pinyin">h√©li√∫</span>) - <span class="translation">river; stream</span>
                                    </li>
                                </ul>
                            </div>
                        </div>

                        <div class="components-section">
                            <div class="section-title">Character Analysis</div>
                            <div class="components-content">
                                <ul>
                                    <li class="semantic">
                                        <span class="hanzi">Ê∞µ</span>
                                        <span class="pinyin">shu«ê</span>
                                        <div class="definition">water radical</div>
                                    </li>
                                    <li class="phonetic">
                                        <span class="hanzi">ÂèØ</span>
                                        <span class="pinyin">kƒõ</span>
                                        <div class="definition">can; able to</div>
                                    </li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Semantic + Semantic Decomposition -->
            <div class="character-example">
                <div class="example-title">Semantic + Semantic Decomposition</div>
                <div class="card">
                    <div class="card-container">
                        <div class="chinese-header">
                            <div class="chinese-main">Ê£Æ</div>
                            <div class="chinese-side">
                                <div class="pinyin-main">sƒìn</div>
                                <div class="audio-section">[üîä]</div>
                            </div>
                        </div>

                        <hr class="divider">

                        <div class="definition-section">
                            <div class="section-title">Definition</div>
                            <div class="definition-content">
                                <span class="part-of-speech">adjective</span> dense; thick (of forest)
                                <br>
                                <span class="part-of-speech">noun</span> forest
                            </div>
                        </div>

                        <div class="examples-section">
                            <div class="section-title">Examples</div>
                            <div class="examples-content">
                                <ul>
                                    <li class="example">
                                        <span class="hanzi">Ê£ÆÊûó</span> (<span class="pinyin">sƒìnl√≠n</span>) - <span class="translation">forest</span>
                                    </li>
                                    <li class="example">
                                        <span class="hanzi">Ê£Æ‰∏•</span> (<span class="pinyin">sƒìny√°n</span>) - <span class="translation">strict; tight (security)</span>
                                    </li>
                                </ul>
                            </div>
                        </div>

                        <div class="components-section">
                            <div class="section-title">Character Analysis</div>
                            <div class="components-content">
                                <ul>
                                    <li class="semantic">
                                        <span class="hanzi">Êú®</span>
                                        <span class="pinyin">m√π</span>
                                        <div class="definition">tree; wood</div>
                                    </li>
                                    <li class="semantic">
                                        <span class="hanzi">Êú®</span>
                                        <span class="pinyin">m√π</span>
                                        <div class="definition">tree; wood</div>
                                    </li>
                                    <li class="semantic">
                                        <span class="hanzi">Êú®</span>
                                        <span class="pinyin">m√π</span>
                                        <div class="definition">tree; wood</div>
                                    </li>
                                </ul>
                            </div>
                            <div style="text-align: center; margin-top: 10px; font-size: 0.85em; color: #7f8c8d; font-style: italic;">
                                Three trees together represent a dense forest
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Primitive Character (Undivisible) -->
            <div class="character-example">
                <div class="example-title">Primitive Character (Undivisible)</div>
                <div class="card">
                    <div class="card-container">
                        <div class="chinese-header">
                            <div class="chinese-main">‰∫∫</div>
                            <div class="chinese-side">
                                <div class="pinyin-main">r√©n</div>
                                <div class="audio-section">[üîä]</div>
                            </div>
                        </div>

                        <hr class="divider">

                        <div class="definition-section">
                            <div class="section-title">Definition</div>
                            <div class="definition-content">
                                <ol>
                                    <li><span class="part-of-speech">noun</span> person; human being; people</li>
                                    <li><span class="part-of-speech">noun</span> adult; grown-up</li>
                                </ol>
                            </div>
                        </div>

                        <div class="examples-section">
                            <div class="section-title">Examples</div>
                            <div class="examples-content">
                                <ul>
                                    <li class="example">
                                        <span class="hanzi">‰∏≠ÂõΩ‰∫∫</span> (<span class="pinyin">Zh≈çnggu√≥ r√©n</span>) - <span class="translation">Chinese person</span>
                                    </li>
                                    <li class="example">
                                        <span class="hanzi">‰∫∫Ê∞ë</span> (<span class="pinyin">r√©nm√≠n</span>) - <span class="translation">people; the masses</span>
                                    </li>
                                    <li class="example">
                                        <span class="hanzi">‰∏™‰∫∫</span> (<span class="pinyin">g√®r√©n</span>) - <span class="translation">individual; personal</span>
                                    </li>
                                </ul>
                            </div>
                        </div>

                        <div class="components-section">
                            <div class="section-title">Character Analysis</div>
                            <div class="components-content">
                                <div style="text-align: center; color: #7f8c8d; font-style: italic; padding: 15px;">
                                    <strong>Primitive Character</strong><br>
                                    This character cannot be further decomposed into meaningful components.
                                    It represents the basic pictographic form of a person standing.
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Complex Semantic + Phonetic -->
            <div class="character-example">
                <div class="example-title">Complex Semantic + Phonetic</div>
                <div class="card">
                    <div class="card-container">
                        <div class="chinese-header">
                            <div class="chinese-main">Ë´ã</div>
                            <div class="chinese-side">
                                <div class="pinyin-main">q«êng</div>
                                <div class="audio-section">[üîä]</div>
                            </div>
                        </div>

                        <hr class="divider">

                        <div class="definition-section">
                            <div class="section-title">Definition</div>
                            <div class="definition-content">
                                <ol>
                                    <li><span class="part-of-speech">verb</span> to request; to ask; to invite</li>
                                    <li><span class="part-of-speech">adverb</span> please <span class="usage literary">polite</span></li>
                                </ol>
                            </div>
                        </div>

                        <div class="examples-section">
                            <div class="section-title">Examples</div>
                            <div class="examples-content">
                                <ul>
                                    <li class="example">
                                        <span class="hanzi">Ë´ãÂïè</span> (<span class="pinyin">q«êngw√®n</span>) - <span class="translation">excuse me; may I ask</span>
                                    </li>
                                    <li class="example">
                                        <span class="hanzi">Ë´ãÂùê</span> (<span class="pinyin">q«êng zu√≤</span>) - <span class="translation">please sit down</span>
                                    </li>
                                </ul>
                            </div>
                        </div>

                        <div class="components-section">
                            <div class="section-title">Character Analysis</div>
                            <div class="components-content">
                                <ul>
                                    <li class="semantic">
                                        <span class="hanzi">Ë®Ä</span>
                                        <span class="pinyin">y√°n</span>
                                        <div class="definition">speech radical</div>
                                    </li>
                                    <li class="phonetic">
                                        <span class="hanzi">Èùí</span>
                                        <span class="pinyin">qƒ´ng</span>
                                        <div class="definition">green; blue</div>
                                    </li>
                                </ul>
                            </div>
                            <div style="text-align: center; margin-top: 10px; font-size: 0.85em; color: #7f8c8d; font-style: italic;">
                                Speech (Ë®Ä) + sound component (Èùí) = polite speech/request
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Ideographic Character -->
            <div class="character-example">
                <div class="example-title">Ideographic Character</div>
                <div class="card">
                    <div class="card-container">
                        <div class="chinese-header">
                            <div class="chinese-main">‰∏ä</div>
                            <div class="chinese-side">
                                <div class="pinyin-main">sh√†ng</div>
                                <div class="audio-section">[üîä]</div>
                            </div>
                        </div>

                        <hr class="divider">

                        <div class="definition-section">
                            <div class="section-title">Definition</div>
                            <div class="definition-content">
                                <ol>
                                    <li><span class="part-of-speech">noun</span> top; upper part; above</li>
                                    <li><span class="part-of-speech">verb</span> to go up; to ascend</li>
                                    <li><span class="part-of-speech">verb</span> to attend (class, work)</li>
                                </ol>
                            </div>
                        </div>

                        <div class="examples-section">
                            <div class="section-title">Examples</div>
                            <div class="examples-content">
                                <ul>
                                    <li class="example">
                                        <span class="hanzi">‰∏äË™≤</span> (<span class="pinyin">sh√†ngk√®</span>) - <span class="translation">to attend class</span>
                                    </li>
                                    <li class="example">
                                        <span class="hanzi">Ê®ì‰∏ä</span> (<span class="pinyin">l√≥ush√†ng</span>) - <span class="translation">upstairs</span>
                                    </li>
                                    <li class="example">
                                        <span class="hanzi">‰∏äÊµ∑</span> (<span class="pinyin">Sh√†ngh«éi</span>) - <span class="translation">Shanghai</span>
                                    </li>
                                </ul>
                            </div>
                        </div>

                        <div class="components-section">
                            <div class="section-title">Character Analysis</div>
                            <div class="components-content">
                                <div style="text-align: center; color: #7f8c8d; font-style: italic; padding: 15px;">
                                    <strong>Ideographic Character</strong><br>
                                    Simple pictograph showing a line above a base line,
                                    representing the concept of "above" or "on top".
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Character with Meaning Tree -->
            <div class="character-example">
                <div class="example-title">Character with Meaning Evolution Tree</div>
                <div class="card">
                    <div class="card-container">
                        <div class="chinese-header">
                            <div class="chinese-main">Êñá</div>
                            <div class="chinese-side">
                                <div class="pinyin-main">w√©n</div>
                                <div class="audio-section">[üîä]</div>
                            </div>
                        </div>

                        <hr class="divider">

                        <div class="definition-section">
                            <div class="section-title">Definition</div>
                            <div class="definition-content">
                                <div class="meaning-tree" id="meaning-tree-wen">
                                    <div class="tree-container"></div>
                                </div>
                            </div>
                        </div>

                        <div class="examples-section">
                            <div class="section-title">Examples</div>
                            <div class="examples-content">
                                <ul>
                                    <li class="example">
                                        <span class="hanzi">ÊñáÂåñ</span> (<span class="pinyin">w√©nhu√†</span>) - <span class="translation">culture</span>
                                    </li>
                                    <li class="example">
                                        <span class="hanzi">ÊñáÂ≠∏</span> (<span class="pinyin">w√©nxu√©</span>) - <span class="translation">literature</span>
                                    </li>
                                    <li class="example">
                                        <span class="hanzi">ÊñáÂ≠ó</span> (<span class="pinyin">w√©nz√¨</span>) - <span class="translation">writing; script</span>
                                    </li>
                                </ul>
                            </div>
                        </div>

                        <div class="components-section">
                            <div class="section-title">Character Analysis</div>
                            <div class="components-content">
                                <div style="text-align: center; color: #7f8c8d; font-style: italic; padding: 15px;">
                                    <strong>Pictographic Character</strong><br>
                                    Shows a person with decorative markings or tattoos on their chest,
                                    representing the concept of decoration and ornamentation.
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Unknown Components -->
            <div class="character-example">
                <div class="example-title">Character with Unknown Components</div>
                <div class="card">
                    <div class="card-container">
                        <div class="chinese-header">
                            <div class="chinese-main">Èæç</div>
                            <div class="chinese-side">
                                <div class="pinyin-main">l√≥ng</div>
                                <div class="audio-section">[üîä]</div>
                            </div>
                        </div>

                        <hr class="divider">

                        <div class="definition-section">
                            <div class="section-title">Definition</div>
                            <div class="definition-content">
                                <span class="part-of-speech">noun</span> dragon <span class="domain">mythology</span>
                                <br>
                                <span class="part-of-speech">adjective</span> imperial; royal <span class="usage literary">classical</span>
                            </div>
                        </div>

                        <div class="examples-section">
                            <div class="section-title">Examples</div>
                            <div class="examples-content">
                                <ul>
                                    <li class="example">
                                        <span class="hanzi">‰∏≠ÂúãÈæç</span> (<span class="pinyin">Zh≈çnggu√≥ l√≥ng</span>) - <span class="translation">Chinese dragon</span>
                                    </li>
                                    <li class="example">
                                        <span class="hanzi">ÈæçÂπ¥</span> (<span class="pinyin">l√≥ng ni√°n</span>) - <span class="translation">Year of the Dragon</span>
                                    </li>
                                </ul>
                            </div>
                        </div>

                        <div class="components-section">
                            <div class="section-title">Character Analysis</div>
                            <div class="components-content">
                                <ul>
                                    <li class="unknown">
                                        <span class="hanzi">Á´ã</span>
                                        <span class="pinyin">l√¨</span>
                                        <div class="definition">to stand</div>
                                    </li>
                                    <li class="unknown">
                                        <span class="hanzi">Êúà</span>
                                        <span class="pinyin">yu√®</span>
                                        <div class="definition">moon; month</div>
                                    </li>
                                    <li class="unknown">
                                        <span class="hanzi">ÂΩ°</span>
                                        <span class="pinyin">shƒÅn</span>
                                        <div class="definition">hair radical</div>
                                    </li>
                                </ul>
                            </div>
                            <div style="text-align: center; margin-top: 10px; font-size: 0.85em; color: #7f8c8d; font-style: italic;">
                                Complex pictographic character - component relationships unclear
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Character with Meaning Tree - ÂøÉ (Heart) -->
            <div class="character-example">
                <div class="example-title">Character with Meaning Evolution Tree - ÂøÉ</div>
                <div class="card">
                    <div class="card-container">
                        <div class="chinese-header">
                            <div class="chinese-main">ÂøÉ</div>
                            <div class="chinese-side">
                                <div class="pinyin-main">xƒ´n</div>
                                <div class="audio-section">[üîä]</div>
                            </div>
                        </div>

                        <hr class="divider">

                        <div class="definition-section">
                            <div class="section-title">Definition</div>
                            <div class="definition-content">
                                <div class="meaning-tree" id="meaning-tree-xin">
                                    <div class="tree-container"></div>
                                </div>
                            </div>
                        </div>

                        <div class="examples-section">
                            <div class="section-title">Examples</div>
                            <div class="examples-content">
                                <ul>
                                    <li class="example">
                                        <span class="hanzi">ÂøÉÊÉÖ</span> (<span class="pinyin">xƒ´nq√≠ng</span>) - <span class="translation">mood; feeling</span>
                                    </li>
                                    <li class="example">
                                        <span class="hanzi">Â∞èÂøÉ</span> (<span class="pinyin">xi«éoxƒ´n</span>) - <span class="translation">be careful</span>
                                    </li>
                                    <li class="example">
                                        <span class="hanzi">‰∏≠ÂøÉ</span> (<span class="pinyin">zh≈çngxƒ´n</span>) - <span class="translation">center; core</span>
                                    </li>
                                </ul>
                            </div>
                        </div>

                        <div class="components-section">
                            <div class="section-title">Character Analysis</div>
                            <div class="components-content">
                                <div style="text-align: center; color: #7f8c8d; font-style: italic; padding: 15px;">
                                    <strong>Pictographic Character</strong><br>
                                    Shows the form of a heart organ, representing the physical heart
                                    and by extension emotions, mind, and center.
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Character with Meaning Tree - Â≠∏ (Learn) -->
            <div class="character-example">
                <div class="example-title">Character with Meaning Evolution Tree - Â≠∏</div>
                <div class="card">
                    <div class="card-container">
                        <div class="chinese-header">
                            <div class="chinese-main">Â≠∏</div>
                            <div class="chinese-side">
                                <div class="pinyin-main">xu√©</div>
                                <div class="audio-section">[üîä]</div>
                            </div>
                        </div>

                        <hr class="divider">

                        <div class="definition-section">
                            <div class="section-title">Definition</div>
                            <div class="definition-content">
                                <div class="meaning-tree" id="meaning-tree-xue">
                                    <div class="tree-container"></div>
                                </div>
                            </div>
                        </div>

                        <div class="examples-section">
                            <div class="section-title">Examples</div>
                            <div class="examples-content">
                                <ul>
                                    <li class="example">
                                        <span class="hanzi">Â≠∏Ê†°</span> (<span class="pinyin">xu√©xi√†o</span>) - <span class="translation">school</span>
                                    </li>
                                    <li class="example">
                                        <span class="hanzi">Â≠∏Áîü</span> (<span class="pinyin">xu√©shƒìng</span>) - <span class="translation">student</span>
                                    </li>
                                    <li class="example">
                                        <span class="hanzi">ÁßëÂ≠∏</span> (<span class="pinyin">kƒìxu√©</span>) - <span class="translation">science</span>
                                    </li>
                                </ul>
                            </div>
                        </div>

                        <div class="components-section">
                            <div class="section-title">Character Analysis</div>
                            <div class="components-content">
                                <ul>
                                    <li class="semantic">
                                        <span class="hanzi">Â≠ê</span>
                                        <span class="pinyin">z«ê</span>
                                        <div class="definition">child</div>
                                    </li>
                                    <li class="semantic">
                                        <span class="hanzi">ÂÜñ</span>
                                        <span class="pinyin">m√¨</span>
                                        <div class="definition">cover radical</div>
                                    </li>
                                </ul>
                                <div style="text-align: center; margin-top: 10px; font-size: 0.85em; color: #7f8c8d; font-style: italic;">
                                    Child under cover/roof ‚Üí protected learning environment
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Character with Meaning Tree - ÈÅì (Way) -->
            <div class="character-example">
                <div class="example-title">Character with Meaning Evolution Tree - ÈÅì</div>
                <div class="card">
                    <div class="card-container">
                        <div class="chinese-header">
                            <div class="chinese-main">ÈÅì</div>
                            <div class="chinese-side">
                                <div class="pinyin-main">d√†o</div>
                                <div class="audio-section">[üîä]</div>
                            </div>
                        </div>

                        <hr class="divider">

                        <div class="definition-section">
                            <div class="section-title">Definition</div>
                            <div class="definition-content">
                                <div class="meaning-tree" id="meaning-tree-dao">
                                    <div class="tree-container"></div>
                                </div>
                            </div>
                        </div>

                        <div class="examples-section">
                            <div class="section-title">Examples</div>
                            <div class="examples-content">
                                <ul>
                                    <li class="example">
                                        <span class="hanzi">ÈÅìË∑Ø</span> (<span class="pinyin">d√†ol√π</span>) - <span class="translation">road; path</span>
                                    </li>
                                    <li class="example">
                                        <span class="hanzi">Áü•ÈÅì</span> (<span class="pinyin">zhƒ´d√†o</span>) - <span class="translation">to know</span>
                                    </li>
                                    <li class="example">
                                        <span class="hanzi">ÈÅìÂæ∑</span> (<span class="pinyin">d√†od√©</span>) - <span class="translation">morality; ethics</span>
                                    </li>
                                </ul>
                            </div>
                        </div>

                        <div class="components-section">
                            <div class="section-title">Character Analysis</div>
                            <div class="components-content">
                                <ul>
                                    <li class="semantic">
                                        <span class="hanzi">Ëæ∂</span>
                                        <span class="pinyin">chu√≤</span>
                                        <div class="definition">walking radical</div>
                                    </li>
                                    <li class="phonetic">
                                        <span class="hanzi">È¶ñ</span>
                                        <span class="pinyin">sh«íu</span>
                                        <div class="definition">head; leader</div>
                                    </li>
                                </ul>
                                <div style="text-align: center; margin-top: 10px; font-size: 0.85em; color: #7f8c8d; font-style: italic;">
                                    Walking (Ëæ∂) + head/leader (È¶ñ) ‚Üí path guided by leadership
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div style="text-align: center; color: #7f8c8d; font-size: 0.9em; margin-top: 40px; padding: 20px; background: white; border-radius: 8px;">
            <strong>Legend:</strong><br>
            <span style="background: #34495e; color: white; padding: 1px 4px; border-radius: 4px; font-size: 0.8em;">SEMANTIC</span> = Meaning-related components<br>
            <span style="background: #34495e; color: white; padding: 1px 4px; border-radius: 4px; font-size: 0.8em;">PHONETIC</span> = Sound-related components<br>
            <span style="background: #34495e; color: white; padding: 1px 4px; border-radius: 4px; font-size: 0.8em;">UNKNOWN</span> = Unclear relationship
        </div>
    </div>

    <script>
        // D3.js tree drawing function
        function drawTree(data, selector) {
            const container = d3.select(selector + " .tree-container");
            container.selectAll("*").remove(); // Clear any existing content

            const margin = {top: 20, right: 40, bottom: 20, left: 40};
            const width = 450 - margin.left - margin.right;
            const height = 250 - margin.bottom - margin.top;

            // Create SVG
            const svg = container
                .append("svg")
                .attr("width", width + margin.left + margin.right)
                .attr("height", height + margin.top + margin.bottom);

            const g = svg.append("g")
                .attr("transform", `translate(${margin.left},${margin.top})`);

            // Create tree layout
            const tree = d3.tree().size([width, height]);
            const root = d3.hierarchy(data);

            // Generate the tree
            tree(root);

            // Add links (connections between nodes)
            const link = g.selectAll(".link")
                .data(root.links())
                .enter().append("path")
                .attr("class", "link")
                .attr("d", d3.linkVertical()
                    .x(d => d.x)
                    .y(d => d.y));

            // Add nodes
            const node = g.selectAll(".node")
                .data(root.descendants())
                .enter().append("g")
                .attr("class", d => `node ${d.depth === 0 ? 'root' : 'level-' + d.depth}`)
                .attr("transform", d => `translate(${d.x},${d.y})`);

            // Add circles for nodes
            node.append("circle")
                .attr("r", 6)
                .style("cursor", "pointer");

            // Add text labels
            node.append("text")
                .attr("dy", "0.35em")
                .attr("x", d => d.children ? -13 : 13)
                .style("text-anchor", d => d.children ? "end" : "start")
                .text(d => d.data.name)
                .style("font-size", "11px")
                .style("font-weight", d => d.depth === 0 ? "600" : "500");

            // Add hover effects
            node.on("mouseover", function(event, d) {
                d3.select(this).select("circle")
                    .transition()
                    .duration(200)
                    .attr("r", 8);
            })
            .on("mouseout", function(event, d) {
                d3.select(this).select("circle")
                    .transition()
                    .duration(200)
                    .attr("r", 6);
            });
        }

        // Initialize trees when page loads
        document.addEventListener('DOMContentLoaded', function() {
            const wenTreeData = {
                name: "body markings",
                children: [
                    { name: "linear marks" },
                    {
                        name: "mark",
                        children: [{
                            name: "script; writing",
                            children: [{
                                name: "text; literature",
                                children: [{
                                    name: "culture; civilization"
                                }]
                            }]
                        }]
                    }
                ]
            };

            const xinTreeData = {
                name: "heart (organ)",
                children: [
                    {
                        name: "feelings; emotions",
                        children: [{
                            name: "mind; mental state",
                            children: [{
                                name: "intention; will"
                            }]
                        }]
                    },
                    {
                        name: "center; core",
                        children: [{
                            name: "essential part"
                        }]
                    }
                ]
            };

            const xueTreeData = {
                name: "imitate; copy",
                children: [
                    {
                        name: "learn; study",
                        children: [{
                            name: "acquire knowledge",
                            children: [{
                                name: "scholarly discipline",
                                children: [{
                                    name: "academic field"
                                }]
                            }]
                        }]
                    }
                ]
            };

            const daoTreeData = {
                name: "path; road",
                children: [
                    {
                        name: "way; method",
                        children: [{
                            name: "principle; law",
                            children: [{
                                name: "moral way",
                                children: [{
                                    name: "philosophical doctrine"
                                }]
                            }]
                        }]
                    },
                    {
                        name: "speak; say",
                        children: [{
                            name: "express; tell"
                        }]
                    }
                ]
            };

            // Draw all trees
            drawTree(wenTreeData, "#meaning-tree-wen");
            drawTree(xinTreeData, "#meaning-tree-xin");
            drawTree(xueTreeData, "#meaning-tree-xue");
            drawTree(daoTreeData, "#meaning-tree-dao");

            // Redraw on window resize
            window.addEventListener('resize', function() {
                setTimeout(() => {
                    drawTree(wenTreeData, "#meaning-tree-wen");
                    drawTree(xinTreeData, "#meaning-tree-xin");
                    drawTree(xueTreeData, "#meaning-tree-xue");
                    drawTree(daoTreeData, "#meaning-tree-dao");
                }, 100);
            });
        });
    </script>
</body>
</html>
